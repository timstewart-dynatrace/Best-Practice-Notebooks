<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 480">
  <defs>
    <linearGradient id="davisGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dqlGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="verifyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#14b8a6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0d9488;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="execGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="analyzeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="refineGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#db2777;stop-opacity:1" />
    </linearGradient>
    <filter id="stepShadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
    <marker id="stepArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="700" height="480" fill="#0f172a" rx="10"/>

  <!-- Title -->
  <text x="350" y="35" font-family="system-ui, -apple-system, sans-serif" font-size="20" font-weight="bold" fill="#f1f5f9" text-anchor="middle">Davis Copilot Workflow</text>
  <text x="350" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#64748b" text-anchor="middle">Natural language to DQL query execution</text>

  <!-- Step 1: Ask Davis -->
  <rect x="50" y="80" width="280" height="55" rx="8" fill="url(#davisGrad)" filter="url(#stepShadow)"/>
  <circle cx="75" cy="107" r="16" fill="rgba(255,255,255,0.2)"/>
  <text x="75" y="113" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">1</text>
  <text x="105" y="100" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff">ASK DAVIS</text>
  <text x="105" y="120" font-family="monospace" font-size="11" fill="rgba(255,255,255,0.85)">"What log sources exist?"</text>

  <!-- Arrow 1→2 -->
  <line x1="330" y1="107" x2="365" y2="107" stroke="#94a3b8" stroke-width="2" marker-end="url(#stepArrow)"/>

  <!-- Step 2: Davis Generates DQL -->
  <rect x="370" y="80" width="280" height="55" rx="8" fill="url(#dqlGrad)" filter="url(#stepShadow)"/>
  <circle cx="395" cy="107" r="16" fill="rgba(255,255,255,0.2)"/>
  <text x="395" y="113" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">2</text>
  <text x="425" y="100" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff">DAVIS GENERATES DQL</text>
  <text x="425" y="120" font-family="monospace" font-size="11" fill="rgba(255,255,255,0.85)">fetch logs | summarize...</text>

  <!-- Arrow 2→3 -->
  <path d="M510,135 L510,155" stroke="#94a3b8" stroke-width="2" marker-end="url(#stepArrow)"/>

  <!-- Step 3: Verify Syntax -->
  <rect x="370" y="160" width="280" height="55" rx="8" fill="url(#verifyGrad)" filter="url(#stepShadow)"/>
  <circle cx="395" cy="187" r="16" fill="rgba(255,255,255,0.2)"/>
  <text x="395" y="193" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">3</text>
  <text x="425" y="180" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff">VERIFY SYNTAX</text>
  <text x="425" y="200" font-family="monospace" font-size="11" fill="rgba(255,255,255,0.85)">mcp verify_dql(query)</text>

  <!-- Arrow 3→4 -->
  <path d="M370,187 L335,187" stroke="#94a3b8" stroke-width="2" marker-end="url(#stepArrow)"/>

  <!-- Step 4: Execute -->
  <rect x="50" y="160" width="280" height="55" rx="8" fill="url(#execGrad)" filter="url(#stepShadow)"/>
  <circle cx="75" cy="187" r="16" fill="rgba(255,255,255,0.2)"/>
  <text x="75" y="193" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">4</text>
  <text x="105" y="180" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff">EXECUTE</text>
  <text x="105" y="200" font-family="monospace" font-size="11" fill="rgba(255,255,255,0.85)">mcp execute_dql(query)</text>

  <!-- Arrow 4→5 -->
  <path d="M190,215 L190,235" stroke="#94a3b8" stroke-width="2" marker-end="url(#stepArrow)"/>

  <!-- Step 5: Analyze Results -->
  <rect x="50" y="240" width="280" height="55" rx="8" fill="url(#analyzeGrad)" filter="url(#stepShadow)"/>
  <circle cx="75" cy="267" r="16" fill="rgba(255,255,255,0.2)"/>
  <text x="75" y="273" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">5</text>
  <text x="105" y="260" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff">ANALYZE RESULTS</text>
  <text x="105" y="280" font-family="monospace" font-size="11" fill="rgba(255,255,255,0.85)">Identify patterns, volumes</text>

  <!-- Arrow 5→6 -->
  <line x1="330" y1="267" x2="365" y2="267" stroke="#94a3b8" stroke-width="2" marker-end="url(#stepArrow)"/>

  <!-- Step 6: Refine -->
  <rect x="370" y="240" width="280" height="55" rx="8" fill="url(#refineGrad)" filter="url(#stepShadow)"/>
  <circle cx="395" cy="267" r="16" fill="rgba(255,255,255,0.2)"/>
  <text x="395" y="273" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">6</text>
  <text x="425" y="260" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff">REFINE</text>
  <text x="425" y="280" font-family="monospace" font-size="11" fill="rgba(255,255,255,0.85)">Ask follow-up questions</text>

  <!-- Loop arrow from Step 6 back to Step 1 -->
  <path d="M650,267 Q680,267 680,107 Q680,60 510,60 Q340,60 190,60 Q50,60 50,107"
        stroke="#94a3b8" stroke-width="2" fill="none" stroke-dasharray="6,3"/>
  <polygon points="50,102 45,112 55,112" fill="#94a3b8"/>
  <text x="680" y="170" font-family="system-ui, sans-serif" font-size="10" fill="#64748b" transform="rotate(90,680,170)">iterate</text>

  <!-- MCP Tools Panel -->
  <rect x="50" y="320" width="600" height="140" rx="8" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <text x="70" y="348" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#f1f5f9">MCP Tools Used</text>

  <!-- Tool cards -->
  <rect x="70" y="365" width="170" height="75" rx="6" fill="#334155"/>
  <text x="85" y="388" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#8b5cf6">chat_with_davis_copilot</text>
  <text x="85" y="408" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">Natural language queries</text>
  <text x="85" y="425" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">Ask any DT question</text>

  <rect x="260" y="365" width="170" height="75" rx="6" fill="#334155"/>
  <text x="275" y="388" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#14b8a6">verify_dql</text>
  <text x="275" y="408" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">Syntax validation</text>
  <text x="275" y="425" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">Catch errors early</text>

  <rect x="450" y="365" width="170" height="75" rx="6" fill="#334155"/>
  <text x="465" y="388" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#10b981">execute_dql</text>
  <text x="465" y="408" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">Run against tenant</text>
  <text x="465" y="425" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">Get real results</text>
</svg>
