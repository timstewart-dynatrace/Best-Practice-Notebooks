{"version":"7","defaultTimeframe":{"from":"now()-2h","to":"now()"},"defaultSegments":[],"sections":[{"id":"1c652447-9e46-4abd-bed1-b654c44842be","type":"markdown","markdown":"# Understanding Your Data\n\n> **Series:** ONBRD | **Notebook:** 7 of 10 | **Created:** December 2025\n\n## Exploring What Dynatrace Discovered\n\nWith OneAgent deployed, Dynatrace has automatically discovered your infrastructure, processes, and services. This notebook helps you understand what's been found and how to explore your data.\n\n---\n\n## Table of Contents\n\n1. The Dynatrace Data Model\n2. Entities and Relationships\n3. Exploring Smartscape\n4. Data Types in Grail\n5. Discovery Queries\n6. Next Steps\n\n---\n\n## Prerequisites\n\n- OneAgent deployed on at least one host (ONBRD-05)\n- Environment organized with tags (ONBRD-06)\n- 15-30 minutes elapsed since deployment for full discovery\n- DQL query permissions"},{"id":"60f45f67-2b42-4eb9-b0b2-c88844aae8df","type":"markdown","markdown":"## 1. The Dynatrace Data Model\n\nDynatrace organizes data into a unified model:\n\n![Grail Data Model](../images/grail-data-model.svg)\n<!-- MARKDOWN_TABLE_ALTERNATIVE\n| Data Type | Description | Example |\n|-----------|-------------|---------|\n| Entities | Monitored components | Host, Service, Process |\n| Metrics | Numeric measurements | CPU usage, response time |\n| Logs | Textual event records | Application log entry |\n| Spans | Trace operations | HTTP request, DB query |\n| Events | Point-in-time occurrences | Deployment, config change |\n| Problems | DAVIS-detected issues | Service slowdown |\n| Bizevents | Business transactions | Order placed, payment |\n| Security | Vulnerabilities/attacks | CVE detection |\n-->\n\n### Key Concepts\n\n| Concept | Description | Example |\n|---------|-------------|--------|\n| **Entity** | Any monitored component | Host, Service, Process |\n| **Metric** | Numeric measurement over time | CPU usage, response time |\n| **Log** | Textual event record | Application log entry |\n| **Span** | Single operation in a trace | HTTP request, DB query |\n| **Event** | Point-in-time occurrence | Deployment, config change |\n| **Problem** | DAVIS-detected issue | Service slowdown |"},{"id":"7770b97d-c55d-4761-a4dd-ab784fe978d4","type":"markdown","markdown":"## 2. Entities and Relationships\n\nDynatrace automatically discovers and relates entities:\n\n![Entity Hierarchy](../images/entity-hierarchy.svg)\n<!-- MARKDOWN_TABLE_ALTERNATIVE\n| Entity Type | DQL Name | What It Represents |\n|-------------|----------|--------------------|\n| Application | dt.entity.application | Frontend application |\n| Service | dt.entity.service | Logical backend service |\n| Process Group | dt.entity.process_group | Set of identical processes |\n| Host | dt.entity.host | Physical or virtual machine |\n| K8s Cluster | dt.entity.kubernetes_cluster | Kubernetes cluster |\n-->\n\n### Common Entity Types\n\n| Entity Type | DQL Name | What It Represents |\n|-------------|----------|--------------------|\n| **Host** | `dt.entity.host` | Physical or virtual machine |\n| **Process Group** | `dt.entity.process_group` | Set of identical processes |\n| **Service** | `dt.entity.service` | Logical backend service |\n| **Application** | `dt.entity.application` | Frontend application |\n| **K8s Cluster** | `dt.entity.kubernetes_cluster` | Kubernetes cluster |\n| **K8s Namespace** | `dt.entity.cloud_application_namespace` | K8s namespace |\n| **K8s Workload** | `dt.entity.cloud_application` | Deployment, DaemonSet, etc. |"},{"id":"6d3ba185-a95c-48bc-8e40-6892931537f2","type":"markdown","markdown":"## 3. Exploring Topology\n\nThe topology view shows the visual representation of your environment.\n\n**Location:** Infrastructure app → Hosts → Select any host → Dependencies\n\n### Understanding Topology Layers\n\n| Layer | Shows | Use Case |\n|-------|-------|----------|\n| **Applications** | Frontend apps, user sessions | User experience |\n| **Services** | Backend services, APIs | Service dependencies |\n| **Processes** | Running processes | Process mapping |\n| **Hosts** | Servers, VMs, containers | Infrastructure view |\n\n### Reading Topology Views\n\n- **Nodes** = Entities\n- **Lines** = Relationships (calls, runs on)\n- **Line thickness** = Traffic volume\n- **Colors** = Health status (green/yellow/red)\n\n### Navigation Tips\n\n- Click any entity to see details\n- Use filters to focus on specific services\n- Hover over connections to see traffic metrics\n- Use the Services app for service-to-service dependencies"},{"id":"eda00ef5-4a65-47ec-a8c1-c4cdbecff2d0","type":"markdown","markdown":"## 4. Data Types in Grail\n\nGrail stores different data types with different retention and query patterns.\n\n| Data Type | DQL Fetch | Typical Use |\n|-----------|-----------|-------------|\n| **Logs** | `fetch logs` | Troubleshooting, audit |\n| **Spans** | `fetch spans` | Distributed tracing |\n| **Metrics** | `timeseries` | Performance monitoring |\n| **Events** | `fetch events` | Change tracking |\n| **Problems** | `fetch dt.davis.problems` | Incident management |\n| **Entities** | `fetch dt.entity.*` | Topology queries |\n| **Bizevents** | `fetch bizevents` | Business transactions |\n\n### Data Retention\n\nDefault retention varies by data type and license:\n\n| Data Type | Typical Retention |\n|-----------|-------------------|\n| Metrics | 5 years (aggregated) |\n| Logs | 35 days (configurable) |\n| Spans | 35 days |\n| Events | 35 days |\n| Entity state | Real-time |"},{"id":"00e49013-a384-48f5-be5b-ce26d4e48f2e","type":"markdown","markdown":"## 5. Discovery Queries\n\nUse these queries to understand what Dynatrace has discovered in your environment."},{"id":"20c272ac-1e38-4615-b07b-f0083b71c44b","type":"markdown","markdown":"### Infrastructure Discovery"},{"id":"143ccd08-4759-4b6b-80bc-57f352478cb1","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Count all entity types in your environment\nfetch dt.entity.host | summarize hosts = count()\n// Run separately for other types:\n// fetch dt.entity.service | summarize services = count()\n// fetch dt.entity.process_group | summarize process_groups = count()"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"ba616379-ba3a-46b7-9bba-38b28eaacd30","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// List all hosts with key details\nfetch dt.entity.host\n| fields entity.name, \nstate, \nmonitoringMode, \nosType,\ncpuCores,\nphysicalMemory\n| sort entity.name\n| limit 100"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"e4c9f196-d74e-4852-8c73-880a662e13e1","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Group hosts by OS type\nfetch dt.entity.host\n| summarize count = count(), by: {osType}\n| sort count desc"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"32c0fd23-9125-43cd-997f-7737ad5270e6","type":"markdown","markdown":"### Service Discovery"},{"id":"7e70e85a-e2ea-4859-b3de-8e6b144a97c0","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// List all discovered services\nfetch dt.entity.service\n| fields entity.name, serviceType\n| sort entity.name\n| limit 100"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"73e38660-df4a-46e8-8169-d1ef98a276b2","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Group services by type\nfetch dt.entity.service\n| summarize count = count(), by: {serviceType}\n| sort count desc"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"7fa824e7-3f22-41ed-8c2d-705738e4d143","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Find services with recent traffic (spans)\nfetch spans, from: now() - 1h\n| filter span.kind == \"server\"\n| summarize request_count = count(), by: {service.name}\n| sort request_count desc\n| limit 20"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"9511c925-89bc-44ea-8a23-1aabb746c87e","type":"markdown","markdown":"### Process Discovery"},{"id":"4c760cc4-d021-4f44-b37e-d36165a9a14c","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// List process groups\nfetch dt.entity.process_group\n| fields entity.name\n| sort entity.name\n| limit 50"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"c0f21fd7-dbf1-48dc-b346-4b8241220943","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Count process groups\nfetch dt.entity.process_group\n| summarize count = count()"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"c1861f72-3726-4ed1-af33-5732f8d83e29","type":"markdown","markdown":"### Log Discovery"},{"id":"8d78c78d-a1ba-40b7-ac62-4b553de60870","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Check log volume by source\nfetch logs, from: now() - 1h\n| summarize log_count = count(), by: {log.source}\n| sort log_count desc\n| limit 20"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"9962ab75-e1b7-414e-a657-64c51025a44f","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Check log volume by severity\nfetch logs, from: now() - 1h\n| summarize log_count = count(), by: {loglevel}\n| sort log_count desc"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"1d311fc7-0847-4368-bb63-84a31e858e99","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Sample recent logs\nfetch logs, from: now() - 15m\n| fields timestamp, loglevel, log.source, content\n| sort timestamp desc\n| limit 25"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"3d6d52d8-c246-491a-a051-3852e23f3ed2","type":"markdown","markdown":"### Kubernetes Discovery (if applicable)"},{"id":"01270093-a958-4046-9348-b4374735d993","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// List Kubernetes clusters\nfetch dt.entity.kubernetes_cluster\n| fields entity.name\n| sort entity.name"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"3c445c4d-dcfb-4a22-9b7d-b7b9c10f23b7","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// List namespaces\nfetch dt.entity.cloud_application_namespace\n| fields entity.name\n| sort entity.name\n| limit 50"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"aaa87536-9999-446d-b77b-a3be7a093156","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// List workloads (deployments, etc.)\nfetch dt.entity.cloud_application\n| fields entity.name\n| sort entity.name\n| limit 50"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"da771d36-c14f-4b9f-bd98-e6d95d9f6caa","type":"markdown","markdown":"### Problems Discovery"},{"id":"b593d57c-0c5c-48c7-99f1-66aa065f011f","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Check for recent problems\nfetch dt.davis.problems, from: now() - 7d\n| fields timestamp, display_id, title, status, affected_entity_types\n| sort timestamp desc\n| limit 20"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"ba4a5fb4-e833-4866-bd1d-6c140a517fbf","type":"dql","filterSegments":[],"drilldownPath":[],"previousFilterSegments":[],"height":250,"state":{"input":{"timeframe":{"from":"now()-2h","to":"now()"},"value":"// Problem summary by status\nfetch dt.davis.problems, from: now() - 30d\n| summarize problem_count = count(), by: {status}\n| sort problem_count desc"},"visualizationSettings":{"table":{"hideColumnsForLargeResults":true},"autoSelectVisualization":true,"chartSettings":{}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"visualization":"table"}},{"id":"6a8e196b-fae8-4166-a8f2-174c3b436216","type":"markdown","markdown":"## 6. Next Steps\n\nNow that you understand your data:\n\n1. **ONBRD-08: Your First Queries** - Learn DQL fundamentals\n2. Explore topology for dependency visualization\n3. Review any detected problems\n4. Plan which additional hosts to instrument\n\n### Discovery Checklist\n\n- [ ] Hosts discovered and showing data\n- [ ] Services detected and mapped\n- [ ] Process groups visible\n- [ ] Topology showing relationships\n- [ ] Log ingestion working (if applicable)\n- [ ] Kubernetes entities visible (if applicable)\n\n---\n\n## Summary\n\nIn this notebook, you learned:\n\n- The Dynatrace data model (entities, metrics, logs, spans)\n- How entities relate to each other\n- How to navigate topology views\n- Different data types stored in Grail\n- Discovery queries for infrastructure, services, and logs\n\n---\n\n## References\n\n- [Entities](https://docs.dynatrace.com/docs/discover-dynatrace/explore-data/entities)\n- [Topology and Dependencies](https://docs.dynatrace.com/docs/observe-and-explore/services/service-analysis/service-flow)\n- [Grail Data Model](https://docs.dynatrace.com/docs/platform/grail)\n- [Entity Types Reference](https://docs.dynatrace.com/docs/discover-dynatrace/references/entity-types)"}],"name":"--ONBRD-07-understanding-your-data"}