<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 280">
  <defs>
    <linearGradient id="latHeaderGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="lat50Grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="lat95Grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="lat99Grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="latMaxGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
    </linearGradient>
    <filter id="latShadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="650" height="280" fill="#0f172a" rx="10"/>

  <!-- Header -->
  <rect x="30" y="20" width="590" height="40" rx="8" fill="url(#latHeaderGrad)" filter="url(#latShadow)"/>
  <text x="325" y="47" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="bold" fill="#fff" text-anchor="middle">Latency Percentile Guide</text>

  <!-- Four metric boxes -->
  <!-- p50 -->
  <rect x="30" y="80" width="140" height="90" rx="8" fill="#1e293b" stroke="#10b981" stroke-width="2" filter="url(#latShadow)"/>
  <rect x="30" y="80" width="140" height="30" rx="8" fill="url(#lat50Grad)"/>
  <rect x="30" y="100" width="140" height="10" fill="url(#lat50Grad)"/>
  <text x="100" y="100" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">p50</text>
  <text x="50" y="130" font-family="system-ui, sans-serif" font-size="11" fill="#d1d5db">Median</text>
  <text x="50" y="150" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">Typical user</text>
  <text x="50" y="162" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">experience</text>

  <!-- p95 -->
  <rect x="185" y="80" width="140" height="90" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2" filter="url(#latShadow)"/>
  <rect x="185" y="80" width="140" height="30" rx="8" fill="url(#lat95Grad)"/>
  <rect x="185" y="100" width="140" height="10" fill="url(#lat95Grad)"/>
  <text x="255" y="100" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">p95</text>
  <text x="205" y="130" font-family="system-ui, sans-serif" font-size="11" fill="#d1d5db">1 in 20</text>
  <text x="205" y="150" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">5% of users see</text>
  <text x="205" y="162" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">this or worse</text>

  <!-- p99 -->
  <rect x="340" y="80" width="140" height="90" rx="8" fill="#1e293b" stroke="#ef4444" stroke-width="2" filter="url(#latShadow)"/>
  <rect x="340" y="80" width="140" height="30" rx="8" fill="url(#lat99Grad)"/>
  <rect x="340" y="100" width="140" height="10" fill="url(#lat99Grad)"/>
  <text x="410" y="100" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">p99</text>
  <text x="360" y="130" font-family="system-ui, sans-serif" font-size="11" fill="#d1d5db">1 in 100</text>
  <text x="360" y="150" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">1% of users see</text>
  <text x="360" y="162" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">this or worse</text>

  <!-- max -->
  <rect x="495" y="80" width="140" height="90" rx="8" fill="#1e293b" stroke="#6366f1" stroke-width="2" filter="url(#latShadow)"/>
  <rect x="495" y="80" width="140" height="30" rx="8" fill="url(#latMaxGrad)"/>
  <rect x="495" y="100" width="140" height="10" fill="url(#latMaxGrad)"/>
  <text x="565" y="100" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">max</text>
  <text x="515" y="130" font-family="system-ui, sans-serif" font-size="11" fill="#d1d5db">Worst case</text>
  <text x="515" y="150" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">May include</text>
  <text x="515" y="162" font-family="system-ui, sans-serif" font-size="10" fill="#9ca3af">outliers</text>

  <!-- Usage tip -->
  <rect x="30" y="190" width="590" height="75" rx="8" fill="#1e293b"/>
  <text x="50" y="215" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#f1f5f9">DQL Example:</text>
  <text x="50" y="240" font-family="monospace" font-size="11" fill="#a5b4fc">fetch spans | filter span.kind == "server"</text>
  <text x="50" y="255" font-family="monospace" font-size="11" fill="#a5b4fc">| summarize p50=percentile(duration,50), p99=percentile(duration,99) by:{service.name}</text>
</svg>
